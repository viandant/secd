     ### lllllllllllllll sss rrrrrrrrr  wwwwwwwww  aaaaaaaaaaa ttttttttt jjjjjjjjjj
0                                                              jump      boot
1        ld-ins                                                jump      ld
2        ldc-ins                                               jump      ldc
3        ldf-ins                                               jump      ldf
4        ap-ins                                                jump      ap
5        rtn-ins                                               jump      rtn
6        dum-ins                                               jump      dum
7        rap-ins                                               jump      rap
8        sel-ins                                               jump      sel
9        join-ins                                              jump      join
10       car-ins                                               jump      car
11       cdr-ins                                               jump      cdr
12       atom-ins                                              jump      atom
13       cons-ins                                              jump      cons
14       eq-ins                                                jump      eq
15       add-ins                                               jump      add
16       sub-ins                                               jump      sub
17       mul-ins                                               jump      mul
18       div-ins                                               jump      div
19       rem-ins                                               jump      rem
20       leq-ins                                               jump      leq
21       stop-ins                                              jump      stop
22       external-ins                                          jump      external
23       cmd23-ins                                             jump      stop
24       cmd24-ins                                             jump      stop
25       cmd25-ins                                             jump      stop
26       cmd26-ins                                             jump      stop
27       cmd27-ins                                             jump      stop
28       cmd28-ins                                             jump      stop
29       cmd29-ins                                             jump      stop
30       cmd30-ins                                             jump      stop
31       fork-ins                                              jump      fork
32       fail-ins                                              jump      fail
33       delay-ins                                             jump      stop
34       delay0-ins                                            jump      stop
35       force-ins                                             jump      stop
     
     -------------------------------------------------------------------------------------
36       boot            1                         halted      button?   start-program
37                                                             jump      boot
     -------------------------------------------------------------------------------------
38       error           2                                     button?   _3
39                                                             jump      error
40       _3                                                    button?   _3
41                                                             jump      boot
     -------------------------------------------------------------------------------------
42       start-program       num        mar        running
43                           mem        car                    
44                           car        mar                    
45                           mem        s                      
46                           nilx       e                      
47                           num        mar                    
48                           mem        car                    
49                           car        mar                    
50                           mem        car                    
51                           car        c                      
52                           nilx       d                      
53                           nilx       x1                     
54                           nilx       x2
55                           nilx       r
56                           num        mar                    
57                           mem        free                   
     -------------------------------------------------------------------------------------
58       top-of-cycle        c          mar                    
59                           mem        car                    
60                           car        mar                    
61                           mem        arg                    dispatch  
     -------------------------------------------------------------------------------------
62       ld                  e          x1                     
63                           c          mar                    
64                           mem        x2                     
65                           x2         mar                    
66                           mem        car                    
67                           car        mar                    
68                           mem        car                    
69                           car        mar                    
70                           mem        arg                    
71       _7                  arg                               nil?      _8
72                           x1         mar                    
73                           mem        x1                     
74                                      buf1       dec         
75                           buf1       arg                    jump      _7
76       _8                  x1         mar                    
77                           mem        car                    
78                           car        x1                     
79                           c          mar                    
80                           mem        x2                     
81                           x2         mar                    
82                           mem        car                    
83                           car        mar                    
84                           mem        x2                     
85                           x2         mar                    
86                           mem        arg                    
87       _9                  arg                               nil?      _10
88                           x1         mar                    
89                           mem        x1                     
90                                      buf1       dec         
91                           buf1       arg                    jump      _9
92       _10                 x1         mar                    
93                           mem        car                    
94                           car        x1                     
95                           s          x2                     call      consx1x2
96                           mar        s                      
97                           c          mar                    
98                           mem        c                      
99                           c          mar                    
100                          mem        c                      jump      top-of-cycle
     -------------------------------------------------------------------------------------
101      ldc                 s          x2                     
102                          c          mar                    
103                          mem        x1                     
104                          x1         mar                    
105                          mem        car                    
106                          car        x1                     call      consx1x2
107                          mar        s                      
108                          c          mar                    
109                          mem        c                      
110                          c          mar                    
111                          mem        c                      jump      top-of-cycle
     -------------------------------------------------------------------------------------
112      ldf                 e          x2                     
113                          c          mar                    
114                          mem        x1                     
115                          x1         mar                    
116                          mem        car                    
117                          car        x1                     call      consx1x2
118                          mar        x1                     
119                          s          x2                     call      consx1x2
120                          mar        s                      
121                          c          mar                    
122                          mem        c                      
123                          c          mar                    
124                          mem        c                      jump      top-of-cycle
     -------------------------------------------------------------------------------------
125      ap                  d          x2                     
126                          c          mar                    
127                          mem        x1                     call      consx1x2
128                          mar        x2                     
129                          e          x1                     call      consx1x2
130                          mar        x2                     
131                          s          mar                    
132                          mem        x1                     
133                          x1         mar                    
134                          mem        x1                     call      consx1x2
135                          mar        d
     
136                          s          mar                    
137                          mem        car                    
138                          car        mar                    
139                          mem        x2                     
140                          s          mar                    
141                          mem        x1                     
142                          x1         mar                    
143                          mem        car                    
144                          car        x1                     call      consx1x2
145                          mar        e
146                          
147                          s          mar                    
148                          mem        car                    
149                          car        mar                    
150                          mem        car                    
151                          car        c                      
     
152                          nilx       s                      jump      top-of-cycle
     -------------------------------------------------------------------------------------
153      rtn                 d          mar                    
154                          mem        car                    
155                          car        x2                     
156                          s          mar                    
157                          mem        car                    
158                          car        x1                     call      consx1x2
159                          mar        s                      
160                          d          mar                    
161                          mem        d                      
162                          d          mar                    
163                          mem        car                    
164                          car        e                      
165                          d          mar                    
166                          mem        d                      
167                          d          mar                    
168                          mem        car                    
169                          car        c                      
170                          d          mar                    
171                          mem        d                      jump      top-of-cycle
     -------------------------------------------------------------------------------------
172      dum                 e          x2                     
173                          nilx       x1                     call      consx1x2
174                          mar        e                      
175                          c          mar                    
176                          mem        c                      jump      top-of-cycle
     -------------------------------------------------------------------------------------
177      rap                 d          x2                     
178                          c          mar                    
179                          mem        x1                     call      consx1x2
180                          mar        x2                     
181                          e          mar                    
182                          mem        x1                     call      consx1x2
183                          mar        x2                     
184                          s          mar                    
185                          mem        x1                     
186                          x1         mar                    
187                          mem        x1                     call      consx1x2
188                          mar        d
     
     --- current environment saved, now replace dummy environment
189                          s          mar
190                          mem        car
191                          car        mar
192                          mem        e
     
193                          s          mar
194                          mem        y2
195                          y2         mar
196                          mem        car
197                          car        y2
198                          e          mar
199                          mem        arg
200                                     buf1       replcar
201                          buf1       bidir
     
202                          s          mar
203                          mem        car
204                          car        mar
205                          mem        car
206                          car        c
     
207                          nilx       s                      jump      top-of-cycle
     -------------------------------------------------------------------------------------
208      sel                 d          x2                     
209                          c          mar                    
210                          mem        x1                     
211                          x1         mar                    
212                          mem        x1                     
213                          x1         mar                    
214                          mem        x1                     call      consx1x2
215                          mar        d                      
216                          s          mar                    
217                          mem        car                    
218                          car        mar                    
219                          mem        arg                    
220                          true       mar                    
221                          mem                               eq?       _18
222                          c          mar                    
223                          mem        c                      
224                          c          mar                    
225                          mem        c                      
226                          c          mar                    
227                          mem        car                    
228                          car        c                      jump      _19
229      _18                 c          mar                    
230                          mem        c                      
231                          c          mar                    
232                          mem        car                    
233                          car        c                      
234      _19                 s          mar                    
235                          mem        s                      jump      top-of-cycle
     -------------------------------------------------------------------------------------
236      join                d          c                      
237                          c          mar                    
238                          mem        car                    
239                          car        c                      
240                          d          mar                    
241                          mem        d                      jump      top-of-cycle
     -------------------------------------------------------------------------------------
     --- s e (FORK c1 c2 . c) d r -> s e c1 (c.d) (s e c2 (c . d) . r)
242      fork                c          mar
243                          mem        mar
244                          mem        mar
245                          mem        x1
246                          d          x2                     call      consx1x2
247                          mar        d
248                          mar        x1
249                          r          x2                     call      consx1x2
250                          mar        x2
251                          c          mar
252                          mem        mar
253                          mem        mar
254                          mem        car
255                          car        x1                     call      consx1x2
256                          mar        x2
257                          e          x1                     call      consx1x2
258                          mar        x2
259                          s          x1                     call      consx1x2
260                          mar        r
261                          c          mar
262                          mem        mar
263                          mem        car
264                          car        c                      jump      top-of-cycle
     -------------------------------------------------------------------------------------
265      fail                r          mar
266                          mem        car
267                          car        s
268                          mem        mar
269                          mem        car
270                          car        e
271                          mem        mar
272                          mem        car
273                          car        c
274                          mem        mar
275                          mem        car
276                          car        d
277                          mem        r                      jump      top-of-cycle
     -------------------------------------------------------------------------------------
278      car                 s          mar                    
279                          mem        x2                     
280                          s          mar                    
281                          mem        car                    
282                          car        mar                    
283                          mem        car                    
284                          car        x1                     call      consx1x2
285                          mar        s                      
286                          c          mar                    
287                          mem        c                      jump      top-of-cycle
     -------------------------------------------------------------------------------------
288      cdr                 s          mar                    
289                          mem        x2                     
290                          s          mar                    
291                          mem        car                    
292                          car        mar                    
293                          mem        x1                     call      consx1x2
294                          mar        s                      
295                          c          mar                    
296                          mem        c                      jump      top-of-cycle
     -------------------------------------------------------------------------------------
297      atom                s          mar                    
298                          mem        car                    
299                          car        mar                    
300                          mem                               atom?     _24
301                          false      x1                     jump      _25
302      _24                 true       x1                     
303      _25                 s          mar                    
304                          mem        x2                     call      consx1x2
305                          mar        s                      
306                          c          mar                    
307                          mem        c                      jump      top-of-cycle
     -------------------------------------------------------------------------------------
308      cons                s          mar                    
309                          mem        x2                     
310                          x2         mar                    
311                          mem        car                    
312                          car        x2                     
313                          s          mar                    
314                          mem        car                    
315                          car        x1                     call      consx1x2
316                          mar        x1                     
317                          s          mar                    
318                          mem        x2                     
319                          x2         mar                    
320                          mem        x2                     call      consx1x2
321                          mar        s                      
322                          c          mar                    
323                          mem        c                      jump      top-of-cycle
     -------------------------------------------------------------------------------------
324      eq                                                    call      setup-alu-args
325                          mem                               eq?       _28
326                          false      x1                     jump      _29
327      _28                 true       x1                     
328      _29                                                   call      push-alu-result
329                                                            jump      top-of-cycle
     -------------------------------------------------------------------------------------
330      add                                                   call      setup-alu-args
331                          mem        buf1       add         call      alu-gc
332                          mar        x1                     call      push-alu-result
333                                                            jump      top-of-cycle
     -------------------------------------------------------------------------------------
334      sub                                                   call      setup-alu-args
335                          mem        buf1       sub         call      alu-gc
336                          mar        x1                     call      push-alu-result
337                                                            jump      top-of-cycle
     -------------------------------------------------------------------------------------
338      mul                                                   call      setup-alu-args
339                          mem        buf1       mul         call      alu-gc
340                          mar        x1                     call      push-alu-result
341                                                            jump      top-of-cycle
     -------------------------------------------------------------------------------------
342      div                                                   call      setup-alu-args
343                          mem        buf1       div         call      alu-gc
344                          mar        x1                     call      push-alu-result
345                                                            jump      top-of-cycle
     -------------------------------------------------------------------------------------
346      rem                                                   call      setup-alu-args
347                          mem        buf1       rem         call      alu-gc
348                          mar        x1                     call      push-alu-result
349                                                            jump      top-of-cycle
     -------------------------------------------------------------------------------------
350      leq                                                   call      setup-alu-args
351                          mem                               leq?      _36
352                          false      x1                     jump      _37
353      _36                 true       x1                     
354      _37                                                   call      push-alu-result
355                                                            jump      top-of-cycle
     -------------------------------------------------------------------------------------
356      stop                s          mar                    
357                          mem        car                    
358                          car        s                      
359                          num        mar
360                          s          bidir                  stop
     -------------------------------------------------------------------------------------
361      external                                  external    button?   external-finish
362                                                            jump      external   
363      external-finish     c          mar        running
364                          mem        c                      jump      top-of-cycle
     -------------------------------------------------------------------------------------
365      setup-alu-args      s          mar                    
366                          mem        x1                     
367                          x1         mar                    
368                          mem        car                    
369                          car        mar                    
370                          mem        arg                    
371                          s          mar                    
372                          mem        car                    
373                          car        mar                    return    
     -------------------------------------------------------------------------------------
374      push-alu-result     s          mar                    
375                          mem        x2                     
376                          x2         mar                    
377                          mem        x2                     call      consx1x2
378                          mar        s                      
379                          c          mar                    
380                          mem        c                      return    
     -------------------------------------------------------------------------------------
381      consx1x2            free                              num?      cons-gc
382      _42                 free       mar                    
383                          mem        free                   
384                          cons       bidir                  return    
     -------------------------------------------------------------------------------------
385      cons-gc                                               call      gc
386                                                            jump      _42
     -------------------------------------------------------------------------------------
387      alu-gc              free                              num?      _46
388      _45                 free       mar                    
389                          mem        free                   
390                          buf1       bidir                  return    
391      _46                                                   call      gc
392                                                            jump      _45
     -------------------------------------------------------------------------------------
393      gc                  s          root       gc          call      mark-start
394                          e          root                   call      mark-start
395                          c          root                   call      mark-start
396                          d          root                   call      mark-start
397                          r          root                   call      mark-start
398                          x1         root                   call      mark-start
399                          x2         root                   call      mark-start
400                          nilx       root                   call      mark-start
401                          true       root                   call      mark-start
402                          false      root                   call      mark-start
403                          num        free
404                          num        arg                    
405                                     buf2       dec
406                          buf2       mar
407      _48                 arg                               nil?      _51
408                          mem        arg                    mark?     _49
409                          free       bidir                  
410                          mar        free                   jump      _50
411      _49                            buf2       clear-mark
412                          buf2       bidir
413      _50                 mar        arg                    
414                                     buf2       dec
415                          buf2       mar                    jump      _48
416      _51                 free                              num?      error
417                                                running     return    
     -------------------------------------------------------------------------------------
418      mark-start          nilx       parent                 
419      mark                root       mar                    
420                          mem        arg                    mark?     backup            
421                                     buf2       set-mark
422                          buf2       bidir                  atom?     backup
423                          parent     y1
424                          root       y2
425                                                gcmark      
426                          buf2       bidir                  jump      mark
     -------------------------------------------------------------------------------------
427      backup              parent     mar                    nil?      _56
428                          mem        arg                    field?    _55
     
     --- reset parents cdr, then backup
     
429                          root       y1
430                          parent     y2
431                                                gcreset
432                          buf2       bidir                  jump      backup
     
     --- reset parent's car, then reverse parents cdr
     
433      _55                 root       y2
434                                                gcreverse
435                          buf2       bidir                  jump      mark
436      _56                                                   return
